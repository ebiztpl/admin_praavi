import{s as B,r as n,o as y,k,l as e,e as C,f as t,u as S,m as T,A as W,p as D,y as j,b as i,d as F,v as r,x as l,a as L,z as M,F as N}from"./app.537b83f5.js";const O={class:"grid grid-cols-3 gap-6"},U={class:"col-span-3 sm:col-span-1"},z={__name:"Filter",emits:["hide"],setup(u,{emit:$}){const m={name:""},d=B({...m});return(g,p)=>{const c=n("BaseInput"),f=n("FilterForm");return y(),k(f,{"init-form":m,form:d,onHide:p[1]||(p[1]=h=>$("hide"))},{default:e(()=>[C("div",O,[C("div",U,[t(c,{type:"text",modelValue:d.name,"onUpdate:modelValue":p[0]||(p[0]=h=>d.name=h),name:"name",label:g.$trans("attendance.work_shift.props.name")},null,8,["modelValue","label"])])])]),_:1},8,["form"])}}},q={name:"EmployeeWorkShiftList"},J=Object.assign(q,{props:{employee:{type:Object,default(){return{}}}},setup(u){const $=S(),m=T(),d=W("emitter");let g=["filter"];D("work-shift:assign")&&g.unshift("create");const p="employee/workShift/",c=j(!1),f=B({}),h=o=>{Object.assign(f,o)};return(o,s)=>{const I=n("PageHeaderAction"),E=n("PageHeader"),b=n("ParentTransition"),_=n("DataCell"),v=n("FloatingMenuItem"),V=n("FloatingMenu"),A=n("DataRow"),H=n("BaseButton"),P=n("DataTable"),R=n("ListItem");return y(),k(R,{"init-url":p,uuid:i($).params.uuid,onSetItems:h},{header:e(()=>[u.employee.uuid?(y(),k(E,{key:0,title:o.$trans("attendance.work_shift.work_shift"),navs:[{label:o.$trans("employee.employee"),path:"Employee"},{label:u.employee.contact.name,path:{name:"EmployeeShow",params:{uuid:u.employee.uuid}}}]},{default:e(()=>[t(I,{url:`employees/${u.employee.uuid}/work-shifts/`,name:"EmployeeWorkShift",title:o.$trans("attendance.work_shift.work_shift"),actions:i(g),"dropdown-actions":["print","pdf","excel"],onToggleFilter:s[0]||(s[0]=a=>c.value=!c.value)},null,8,["url","title","actions"])]),_:1},8,["title","navs"])):F("",!0)]),filter:e(()=>[t(b,{appear:"",visibility:c.value},{default:e(()=>[t(z,{onRefresh:s[1]||(s[1]=a=>i(d).emit("listItems")),onHide:s[2]||(s[2]=a=>c.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[t(b,{appear:"",visibility:!0},{default:e(()=>[t(P,{header:f.headers,meta:f.meta,module:"employee.work_shift",onRefresh:s[4]||(s[4]=a=>i(d).emit("listItems"))},{actionButton:e(()=>[i(D)("work-shift:assign")?(y(),k(H,{key:0,onClick:s[3]||(s[3]=a=>i(m).push({name:"EmployeeWorkShiftCreate"}))},{default:e(()=>[r(l(o.$trans("global.assign",{attribute:o.$trans("attendance.work_shift.work_shift")})),1)]),_:1})):F("",!0)]),default:e(()=>[(y(!0),L(N,null,M(f.data,a=>(y(),k(A,{key:a.uuid},{default:e(()=>[t(_,{name:"workShift"},{default:e(()=>[r(l(a.workShift.name)+" ("+l(a.workShift.code)+") ",1)]),_:2},1024),t(_,{name:"startDate"},{default:e(()=>[r(l(a.startDateDisplay),1)]),_:2},1024),t(_,{name:"endDate"},{default:e(()=>[r(l(a.endDateDisplay),1)]),_:2},1024),t(_,{name:"createdAt"},{default:e(()=>[r(l(a.createdAt),1)]),_:2},1024),t(_,{name:"action"},{default:e(()=>[t(V,null,{default:e(()=>[t(v,{icon:"fas fa-arrow-circle-right",onClick:w=>i(m).push({name:"EmployeeWorkShiftShow",params:{uuid:u.employee.uuid,muuid:a.uuid}})},{default:e(()=>[r(l(o.$trans("general.show")),1)]),_:2},1032,["onClick"]),t(v,{icon:"fas fa-edit",onClick:w=>i(m).push({name:"EmployeeWorkShiftEdit",params:{uuid:u.employee.uuid,muuid:a.uuid}})},{default:e(()=>[r(l(o.$trans("general.edit")),1)]),_:2},1032,["onClick"]),t(v,{icon:"fas fa-copy",onClick:w=>i(m).push({name:"EmployeeWorkShiftDuplicate",params:{uuid:u.employee.uuid,muuid:a.uuid}})},{default:e(()=>[r(l(o.$trans("general.duplicate")),1)]),_:2},1032,["onClick"]),t(v,{icon:"fas fa-trash",onClick:w=>i(d).emit("deleteItem",{uuid:u.employee.uuid,moduleUuid:a.uuid})},{default:e(()=>[r(l(o.$trans("general.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1},8,["uuid"])}}});export{J as default};
