import{u as H,s as P,t as R,r as u,o as p,k as f,l as e,e as D,v as i,x as n,d as k,f as a,m as T,A as M,p as $,y as E,b as r,a as O,z as U,F as j}from"./app.537b83f5.js";const q={class:"grid grid-cols-3 gap-6"},z={class:"col-span-3 sm:col-span-1"},G={class:"col-span-3 sm:col-span-1"},J={__name:"Filter",emits:["hide"],setup(B,{emit:g}){const _=H(),b={employees:[],startDate:"",endDate:""},m=P({...b}),v=P({employees:[],isLoaded:!_.query.employees});return R(async()=>{v.employees=_.query.employees?_.query.employees.split(","):[],v.isLoaded=!0}),(y,o)=>{const C=u("BaseSelectSearch"),l=u("DatePicker"),d=u("FilterForm");return p(),f(d,{"init-form":b,form:m,multiple:["employees"],onHide:o[3]||(o[3]=s=>g("hide"))},{default:e(()=>[D("div",q,[D("div",z,[v.isLoaded?(p(),f(C,{key:0,multiple:"",name:"employees",label:y.$trans("global.select",{attribute:y.$trans("employee.employee")}),modelValue:m.employees,"onUpdate:modelValue":o[0]||(o[0]=s=>m.employees=s),"value-prop":"uuid","init-search":v.employees,"search-key":"name","search-action":"employee/list"},{selectedOption:e(s=>[i(n(s.value.name)+" ("+n(s.value.codeNumber)+") ",1)]),listOption:e(s=>[i(n(s.option.name)+" ("+n(s.option.codeNumber)+") ",1)]),_:1},8,["label","modelValue","init-search"])):k("",!0)]),D("div",G,[a(l,{start:m.startDate,"onUpdate:start":o[1]||(o[1]=s=>m.startDate=s),end:m.endDate,"onUpdate:end":o[2]||(o[2]=s=>m.endDate=s),name:"dateBetween",as:"range",label:y.$trans("general.date_between")},null,8,["start","end","label"])])])]),_:1},8,["form"])}}},K={class:"text-success"},Q={class:"text-danger"},W={class:"text-success"},X={name:"PayrollSalaryStructureList"},Z=Object.assign(X,{setup(B){const g=T(),_=M("emitter");let b=["filter"];$("salary-structure:create")&&b.unshift("create");let m=[];$("salary-structure:export")&&(m=["print","pdf","excel"]);const v="payroll/salaryStructure/",y=E(!1),o=P({}),C=l=>{Object.assign(o,l)};return(l,d)=>{const s=u("PageHeaderAction"),I=u("PageHeader"),w=u("ParentTransition"),c=u("DataCell"),h=u("FloatingMenuItem"),S=u("FloatingMenu"),A=u("DataRow"),L=u("BaseButton"),N=u("DataTable"),V=u("ListItem");return p(),f(V,{"init-url":v,onSetItems:C},{header:e(()=>[a(I,{title:l.$trans("payroll.salary_structure.salary_structure"),navs:[{label:l.$trans("payroll.payroll"),path:"Payroll"}]},{default:e(()=>[a(s,{url:"payroll/salary-structures/",name:"PayrollSalaryStructure",title:l.$trans("payroll.salary_structure.salary_structure"),actions:r(b),"dropdown-actions":r(m),onToggleFilter:d[0]||(d[0]=t=>y.value=!y.value)},null,8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),filter:e(()=>[a(w,{appear:"",visibility:y.value},{default:e(()=>[a(J,{onRefresh:d[1]||(d[1]=t=>r(_).emit("listItems")),onHide:d[2]||(d[2]=t=>y.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[a(w,{appear:"",visibility:!0},{default:e(()=>[a(N,{header:o.headers,meta:o.meta,module:"payroll.salary_structure",onRefresh:d[4]||(d[4]=t=>r(_).emit("listItems"))},{actionButton:e(()=>[r($)("salary-structure:create")?(p(),f(L,{key:0,onClick:d[3]||(d[3]=t=>r(g).push({name:"PayrollSalaryStructureCreate"}))},{default:e(()=>[i(n(l.$trans("global.add",{attribute:l.$trans("payroll.salary_structure.salary_structure")})),1)]),_:1})):k("",!0)]),default:e(()=>[(p(!0),O(j,null,U(o.data,t=>(p(),f(A,{key:t.uuid},{default:e(()=>[a(c,{name:"employee"},{default:e(()=>[i(n(t.employee.name)+" ("+n(t.employee.codeNumber)+") ",1)]),_:2},1024),a(c,{name:"designation"},{default:e(()=>[i(n(t.employee.designation),1)]),_:2},1024),a(c,{name:"branch"},{default:e(()=>[i(n(t.employee.branch),1)]),_:2},1024),a(c,{name:"template"},{default:e(()=>[i(n(t.template.name),1)]),_:2},1024),a(c,{name:"effectiveDate"},{default:e(()=>[i(n(t.effectiveDateDisplay),1)]),_:2},1024),a(c,{name:"netEarning"},{default:e(()=>[D("span",K,n(t.netEarningDisplay),1)]),_:2},1024),a(c,{name:"netDeduction"},{default:e(()=>[D("span",Q,n(t.netDeductionDisplay),1)]),_:2},1024),a(c,{name:"netSalary"},{default:e(()=>[D("span",W,n(t.netSalaryDisplay),1)]),_:2},1024),a(c,{name:"createdAt"},{default:e(()=>[i(n(t.createdAt),1)]),_:2},1024),a(c,{name:"action"},{default:e(()=>[a(S,null,{default:e(()=>[a(h,{icon:"fas fa-arrow-circle-right",onClick:F=>r(g).push({name:"PayrollSalaryStructureShow",params:{uuid:t.uuid}})},{default:e(()=>[i(n(l.$trans("general.show")),1)]),_:2},1032,["onClick"]),r($)("salary-structure:edit")?(p(),f(h,{key:0,icon:"fas fa-edit",onClick:F=>r(g).push({name:"PayrollSalaryStructureEdit",params:{uuid:t.uuid}})},{default:e(()=>[i(n(l.$trans("general.edit")),1)]),_:2},1032,["onClick"])):k("",!0),r($)("salary-structure:create")?(p(),f(h,{key:1,icon:"fas fa-copy",onClick:F=>r(g).push({name:"PayrollSalaryStructureDuplicate",params:{uuid:t.uuid}})},{default:e(()=>[i(n(l.$trans("general.duplicate")),1)]),_:2},1032,["onClick"])):k("",!0),r($)("salary-structure:delete")?(p(),f(h,{key:2,icon:"fas fa-trash",onClick:F=>r(_).emit("deleteItem",{uuid:t.uuid})},{default:e(()=>[i(n(l.$trans("general.delete")),1)]),_:2},1032,["onClick"])):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{Z as default};
