import{h as L,y as $,s as N,t as S,r as h,o as l,k as b,l as t,e,a as g,F as y,z as C,x as a,n as j,A,i as I,w as E,B as H,f as s,v as _,b as D,d as O,E as U}from"./app.537b83f5.js";import{C as q,r as G,D as M}from"./index.e4226d08.js";const J={class:"mt-4 w-full grid grid-cols-1 md:grid-cols-4 gap-3"},K={class:"bg-white dark:bg-dark-header shadow rounded-lg p-2 sm:p-4 xl:p-4"},P={class:"flex items-center"},Q={class:"shrink-0"},X={class:"mt-2 text-base font-normal text-gray-500 uppercase"},Z={class:"text-2xl sm:text-3xl leading-none font-semibold text-gray-900 dark:text-gray-400"},ee={class:"mt-2 text-xs font-normal text-gray-700 uppercase"},te={class:"ml-5 w-0 flex items-center justify-end flex-1 font-bold"},ae={name:"TaskDashboardStat"},se=Object.assign(ae,{setup(B){const i=L(),c=$(!1),d=N({stats:[]});return S(async()=>{c.value=!0,await i.dispatch("task/dashboard/getStat").then(o=>{c.value=!1,Object.assign(d,{stats:o.stats})}).catch(o=>{c.value=!1})}),(o,u)=>{const p=h("BaseLoader");return l(),b(p,{"is-loading":c.value},{default:t(()=>[e("div",J,[(l(!0),g(y,null,C(d.stats,r=>(l(),g("div",K,[e("div",P,[e("div",Q,[e("h3",X,a(r.title),1),e("p",Z,a(r.count),1),e("h6",ee,a(r.secondaryCount)+" "+a(r.secondaryTitle),1)]),e("div",te,[e("div",{class:j(["rounded-full",[r.color]])},[e("i",{class:j([r.icon,"text-white h-12 w-12 flex items-center justify-center"])},null,2)],2)])])]))),256))])]),_:1},8,["is-loading"])}}}),oe={class:"fas fa-check"},ne={class:"text-2xl font-semibold"},le={class:"p-4 border-b border-gray-200 hover:bg-gray-100 dark:border-gray-700 dark:hover:bg-neutral-700"},re={class:"flex items-center"},ie={class:"shrink-0"},ce={class:"ml-5 w-0 flex items-center flex-1"},de={class:"dark:text-gray-400"},_e={class:"text-sm dark:text-gray-500"},ue={name:"TaskDashboardFavorite"},pe=Object.assign(ue,{setup(B){const i=L(),c=A("moment"),d=I("profile.name"),o=$(!1),u=N([]);return S(async()=>{o.value=!0,await i.dispatch("task/dashboard/getFavorite").then(p=>{o.value=!1,Object.assign(u,p)}).catch(p=>{o.value=!1})}),(p,r)=>{const v=h("BaseCard");return l(),g(y,null,[E(e("template",oe,null,512),[[H,!1]]),s(v,{"no-padding":"","is-loading":o.value},{title:t(()=>[_(a(p.$trans("general.greeting_message",{name:D(d)}))+" ",1),e("h3",ne,a(D(c)().format("dddd Do, MMMM YYYY")),1)]),default:t(()=>[(l(!0),g(y,null,C(u,x=>(l(),g("div",le,[e("div",re,[e("div",ie,[e("div",{class:j(["rounded-full p-2",[x.color]])},[e("i",{class:j([x.icon,"text-white h-6 w-6 flex items-center justify-center"])},null,2)],2)]),e("div",ce,[e("div",null,[e("p",de,a(x.title),1),e("p",_e,a(x.date),1)])])])]))),256))]),_:1},8,["is-loading"])],64)}}}),he={class:"col-span-1"},ge={class:"col-span-1"},me={name:"DashboadChart"},fe=Object.assign(me,{setup(B){q.register(...G);const i=L(),c=$(!1),d=N({});return S(async()=>{c.value=!0,await i.dispatch("task/dashboard/getChart").then(o=>{c.value=!1,Object.assign(d,o)}).catch(o=>{c.value=!1})}),(o,u)=>{const p=h("BaseCard");return l(),g(y,null,[e("div",he,[s(p,{"is-loading":c.value},{title:t(()=>[_(a(o.$trans("task.dashboard.category_wise_task")),1)]),default:t(()=>{var r;return[(r=d.categoryWiseData)!=null&&r.labels?(l(),b(D(M),{key:0,chartData:d.categoryWiseData},null,8,["chartData"])):O("",!0)]}),_:1},8,["is-loading"])]),e("div",ge,[s(p,{"is-loading":c.value},{title:t(()=>[_(a(o.$trans("task.dashboard.priority_wise_task")),1)]),default:t(()=>{var r;return[(r=d.priorityWiseData)!=null&&r.labels?(l(),b(D(M),{key:0,chartData:d.priorityWiseData},null,8,["chartData"])):O("",!0)]}),_:1},8,["is-loading"])])],64)}}}),be={class:"col-span-1"},ye={class:"text-xs"},ve={key:1,class:"p-2"},xe={name:"TaskDashboardRecord"},ke=Object.assign(xe,{setup(B){const i=A("$trans"),c=L(),d=$(!1),o=$(""),u=N({tasks:[],types:[],label:""}),p=[{key:"codeNumber",label:i("task.props.code_number"),visibility:!0},{key:"title",label:i("task.props.title"),visibility:!0},{key:"priority",label:i("task.priority.priority"),visibility:!0},{key:"category",label:i("task.category.category"),visibility:!0},{key:"owner",label:i("task.props.owner"),visibility:!0},{key:"startDate",label:i("task.props.start_date"),visibility:!0},{key:"due",label:i("task.props.due_date"),visibility:!0}],r=async()=>{d.value=!0,await c.dispatch("task/dashboard/getRecord",{type:o.value}).then(v=>{d.value=!1,Object.assign(u,v)}).catch(v=>{d.value=!1})};return U(()=>o.value,()=>r()),S(async()=>{await r()}),(v,x)=>{const F=h("DropdownItem"),R=h("DropdownButton"),m=h("DataCell"),T=h("BaseBadge"),V=h("DataRow"),W=h("SimpleTable"),Y=h("BaseAlert"),z=h("BaseCard");return l(),g("div",be,[s(z,{"no-padding":"","no-content-padding":""},{title:t(()=>[_(a(u.label),1)]),action:t(()=>[s(R,{direction:"down",label:u.label},{default:t(()=>[(l(!0),g(y,null,C(u.types,n=>(l(),b(F,{as:"span",onClick:f=>o.value=n.value},{default:t(()=>[_(a(n.label),1)]),_:2},1032,["onClick"]))),256))]),_:1},8,["label"])]),default:t(()=>[u.tasks.length>0?(l(),b(W,{key:0,header:p},{default:t(()=>[(l(!0),g(y,null,C(u.tasks,n=>(l(),b(V,{key:n.uuid},{default:t(()=>[s(m,{name:"codeNumber"},{default:t(()=>[_(a(n.codeNumber)+") ",1)]),_:2},1024),s(m,{name:"title"},{default:t(()=>[_(a(n.title),1)]),_:2},1024),s(m,{name:"priority"},{default:t(()=>{var f,k;return[s(T,{design:(f=n.priority)!=null&&f.color?"custom":"",color:(k=n.priority)==null?void 0:k.color},{default:t(()=>{var w;return[_(a((w=n.priority)==null?void 0:w.name),1)]}),_:2},1032,["design","color"])]}),_:2},1024),s(m,{name:"category"},{default:t(()=>{var f,k;return[s(T,{design:(f=n.category)!=null&&f.color?"custom":"",color:(k=n.category)==null?void 0:k.color},{default:t(()=>{var w;return[_(a((w=n.category)==null?void 0:w.name),1)]}),_:2},1032,["design","color"])]}),_:2},1024),s(m,{name:"owner"},{default:t(()=>[_(a(n.owner.name)+" ",1),e("div",ye,a(n.owner.designation)+" @ "+a(n.owner.branch),1)]),_:2},1024),s(m,{name:"startDate"},{default:t(()=>[_(a(n.startDateDisplay),1)]),_:2},1024),s(m,{name:"due"},{default:t(()=>[_(a(n.due),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})):O("",!0),u.tasks.length==0?(l(),g("div",ve,[s(Y,{size:"xs",design:"info"},{default:t(()=>[_(a(D(i)("general.errors.record_not_found")),1)]),_:1})])):O("",!0)]),_:1})])}}}),we={class:"px-4 pt-6 pb-16"},$e={class:"-mt-10 px-4 w-full grid grid-cols-1 md:grid-cols-3 gap-4"},De={class:"col-span-1"},Be={class:"mt-4 px-4 w-full grid grid-cols-1"},Oe={__name:"Index",setup(B){return(i,c)=>(l(),g("div",null,[e("div",we,[s(se)]),e("div",$e,[e("div",De,[s(pe)]),s(fe)]),e("div",Be,[s(ke)])]))}};export{Oe as default};
