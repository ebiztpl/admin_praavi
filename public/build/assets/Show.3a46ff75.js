import{h as F,u as O,m as z,A as U,y as q,s as G,r as i,o as p,a as b,f as t,l as e,b as a,F as g,k as y,v as r,x as l,z as H,p as J,d as L,e as d}from"./app.537b83f5.js";const K={class:"px-4 py-2 grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-4"},M={class:"font-semibold"},Q={class:"font-semibold"},W={class:"mt-4 grid grid-cols-2 border-t border-gray-200 dark:border-gray-700"},X={class:"col-span-2 sm:col-span-1 border-r border-gray-200 dark:border-gray-700"},Y={class:"text-success"},Z={class:"text-success"},ee={class:"text-success text-md font-semibold"},te={class:"text-success text-md font-semibold"},ae={class:"text-success text-xl font-semibold"},le={class:"text-success text-xl font-semibold"},ne={class:"col-span-2 sm:col-span-1"},oe={class:"text-danger"},se={class:"text-danger"},re={class:"text-danger text-md font-semibold"},de={class:"text-danger text-md font-semibold"},ue=d("span",{class:"text-success text-xl font-semibold"},"\xA0",-1),ie={name:"PayrollShow"},_e=Object.assign(ie,{setup(pe){F();const D=O(),k=z(),n=U("$trans"),j={records:[]},I="payroll/",w=[{key:"payHead",label:n("payroll.pay_head.pay_head"),visibility:!0},{key:"amount",label:n("payroll.props.amount"),visibility:!0}],C=h=>{let c=o.records.filter(x=>x.payHead.type=="earning").length,f=o.records.filter(x=>x.payHead.type=="deduction").length;return h=="earning"&&c<f?f-c:h=="deduction"&&f<c?c-f:0},P=q(!1),o=G({...j}),N=h=>{Object.assign(o,h)};return(h,c)=>{const f=i("PageHeaderAction"),x=i("PageHeader"),v=i("ListItemView"),V=i("ListContainerVertical"),B=i("BaseCard"),_=i("BaseDataView"),u=i("DataCell"),m=i("DataRow"),S=i("SimpleTable"),R=i("BaseButton"),T=i("ShowButton"),A=i("DetailLayoutVertical"),$=i("ShowItem"),E=i("ParentTransition");return p(),b(g,null,[t(x,{title:a(n)(a(D).meta.trans,{attribute:a(n)(a(D).meta.label)}),navs:[{label:a(n)("payroll.payroll"),path:"PayrollList"}]},{default:e(()=>[t(f,{name:"Payroll",title:a(n)("payroll.payroll"),actions:["list"]},null,8,["title"])]),_:1},8,["title","navs"]),t(E,{appear:"",visibility:!0},{default:e(()=>[t($,{"init-url":I,uuid:a(D).params.uuid,onSetItem:N,onRedirectTo:c[1]||(c[1]=s=>a(k).push({name:"Payroll"})),refresh:P.value,onRefreshed:c[2]||(c[2]=s=>P.value=!1)},{default:e(()=>[o.uuid?(p(),y(A,{key:0},{detail:e(()=>[t(B,{"no-padding":"","no-content-padding":""},{title:e(()=>[r(l(a(n)("payroll.props.code_number"))+" "+l(o.codeNumber),1)]),default:e(()=>[t(V,null,{default:e(()=>[t(v,{label:a(n)("general.created_at")},{default:e(()=>[r(l(o.createdAt),1)]),_:1},8,["label"]),t(v,{label:a(n)("general.updated_at")},{default:e(()=>[r(l(o.updatedAt),1)]),_:1},8,["label"])]),_:1})]),_:1}),t(B,{class:"mt-4","no-padding":"","no-content-padding":""},{title:e(()=>[r(l(a(n)("global.summary",{attribute:a(n)("attendance.attendance")})),1)]),default:e(()=>[t(V,null,{default:e(()=>[(p(!0),b(g,null,H(o.attendances,s=>(p(),y(v,{align:"right",label:s.name+" ("+s.code+")"},{default:e(()=>[r(l(s.count)+" "+l(a(n)("list.durations."+s.unit)),1)]),_:2},1032,["label"]))),256))]),_:1})]),_:1})]),default:e(()=>[t(B,{"no-padding":"","no-content-padding":"","bottom-content-padding":""},{title:e(()=>[r(l(a(n)("payroll.payroll")),1)]),footer:e(()=>[t(T,null,{default:e(()=>[a(J)("payroll:edit")?(p(),y(R,{key:0,design:"primary",onClick:c[0]||(c[0]=s=>a(k).push({name:"PayrollEdit",params:{uuid:o.uuid}}))},{default:e(()=>[r(l(a(n)("general.edit")),1)]),_:1})):L("",!0)]),_:1})]),default:e(()=>[d("dl",K,[t(_,{label:a(n)("employee.employee")},{default:e(()=>[r(l(o.employee.name),1)]),_:1},8,["label"]),t(_,{label:a(n)("employee.props.code_number")},{default:e(()=>[r(l(o.employee.codeNumber),1)]),_:1},8,["label"]),t(_,{label:a(n)("employee.props.joining_date")},{default:e(()=>[r(l(o.employee.joiningDateDisplay),1)]),_:1},8,["label"]),t(_,{label:a(n)("employee.props.joining_date")},{default:e(()=>[r(l(o.employee.joiningDateDisplay),1)]),_:1},8,["label"]),t(_,{label:a(n)("company.department.department")},{default:e(()=>[r(l(o.employee.department),1)]),_:1},8,["label"]),t(_,{label:a(n)("company.designation.designation")},{default:e(()=>[r(l(o.employee.designation),1)]),_:1},8,["label"]),t(_,{label:a(n)("company.branch.branch")},{default:e(()=>[r(l(o.employee.branch),1)]),_:1},8,["label"]),t(_,{label:a(n)("employee.employment_status.employment_status")},{default:e(()=>[r(l(o.employee.employmentStatus),1)]),_:1},8,["label"]),t(_,{class:"col-span-1 sm:col-span-2",label:a(n)("payroll.props.period")},{default:e(()=>[d("span",M,l(o.period),1)]),_:1},8,["label"]),t(_,{class:"col-span-1 sm:col-span-2",label:a(n)("payroll.props.duration")},{default:e(()=>[d("span",Q,l(o.duration),1)]),_:1},8,["label"])]),d("div",W,[d("div",X,[t(S,{corner:"sharp",header:w},{default:e(()=>[(p(!0),b(g,null,H(o.records.filter(s=>s.payHead.type=="earning"),s=>(p(),y(m,{key:s.uuid},{default:e(()=>[t(u,{name:"payHead"},{default:e(()=>[d("span",Y,l(s.payHead.name),1)]),_:2},1024),t(u,{name:"amount"},{default:e(()=>[d("span",Z,l(s.amountDisplay),1)]),_:2},1024)]),_:2},1024))),128)),(p(!0),b(g,null,H(C("earning"),s=>(p(),y(m,null,{default:e(()=>[t(u,{name:"payHead"},{default:e(()=>[r("\xA0")]),_:1}),t(u,{name:"amount"},{default:e(()=>[r("\xA0")]),_:1})]),_:1}))),256)),t(m,null,{default:e(()=>[t(u,{name:"payHead"},{default:e(()=>[d("span",ee,l(a(n)("payroll.salary_structure.props.net_earning")),1)]),_:1}),t(u,{name:"amount"},{default:e(()=>[d("span",te,l(o.netEarningDisplay),1)]),_:1})]),_:1}),t(m,null,{default:e(()=>[t(u,{name:"payHead"},{default:e(()=>[d("span",ae,l(a(n)("payroll.salary_structure.props.net_salary")),1)]),_:1}),t(u,{name:"amount"},{default:e(()=>[d("span",le,l(o.totalDisplay),1)]),_:1})]),_:1})]),_:1})]),d("div",ne,[t(S,{corner:"sharp",header:w},{default:e(()=>[(p(!0),b(g,null,H(o.records.filter(s=>s.payHead.type=="deduction"),s=>(p(),y(m,{key:s.uuid},{default:e(()=>[t(u,{name:"payHead"},{default:e(()=>[d("span",oe,l(s.payHead.name),1)]),_:2},1024),t(u,{name:"amount"},{default:e(()=>[d("span",se,l(s.amountDisplay),1)]),_:2},1024)]),_:2},1024))),128)),(p(!0),b(g,null,H(C("deduction"),s=>(p(),y(m,null,{default:e(()=>[t(u,{name:"payHead"},{default:e(()=>[r("\xA0")]),_:1}),t(u,{name:"amount"},{default:e(()=>[r("\xA0")]),_:1})]),_:1}))),256)),t(m,null,{default:e(()=>[t(u,{name:"payHead"},{default:e(()=>[d("span",re,l(a(n)("payroll.salary_structure.props.net_deduction")),1)]),_:1}),t(u,{name:"amount"},{default:e(()=>[d("span",de,l(o.netDeductionDisplay),1)]),_:1})]),_:1}),t(m,null,{default:e(()=>[t(u,{name:"payHead"},{default:e(()=>[ue]),_:1}),t(u,{name:"amount"},{default:e(()=>[r("\xA0")]),_:1})]),_:1})]),_:1})])])]),_:1})]),_:1})):L("",!0)]),_:1},8,["uuid","refresh"])]),_:1})],64)}}});export{_e as default};
