import{u as S,m as H,h as R,y as E,s as F,t as T,r as s,o as n,a as u,f as i,l as t,b as l,k as f,d as y,F as g,p as W,v as d,x as r,e as h,z as $}from"./app.537b83f5.js";import{_ as z}from"./Filter.82ce0271.js";const L={class:"p-2"},j={class:"divide-y divide-gray-200 dark:divide-gray-700"},M={class:"col-span-3 sm:col-span-1"},O={class:"col-span-3 sm:col-span-2"},U={name:"AttendanceWorkShiftReport"},Q=Object.assign(U,{setup(G){const o=S(),v=H(),D=R(),b="attendance/workShift/",_=E(!1),c=F({employees:[],meta:{}}),k=async()=>{_.value=!0,await D.dispatch(b+"fetchEmployee",{params:o.query}).then(e=>{_.value=!1,c.employees=e.data,c.meta=e.meta}).catch(e=>{_.value=!1})};return T(async()=>{o.query.startDate&&o.query.endDate&&await k()}),(e,m)=>{const B=s("BaseButton"),A=s("PageHeaderAction"),P=s("PageHeader"),C=s("ParentTransition"),V=s("BaseAlert"),w=s("BaseDataView"),q=s("Pagination"),N=s("BaseCard");return n(),u(g,null,[i(P,{title:e.$trans(l(o).meta.trans,{attribute:e.$trans(l(o).meta.label)}),navs:[{label:e.$trans("attendance.attendance"),path:"Attendance"}]},{default:t(()=>[i(A,null,{default:t(()=>[l(W)("work-shift:assign")?(n(),f(B,{key:0,design:"primary",onClick:m[0]||(m[0]=a=>l(v).push({name:"AttendanceWorkShiftAssign"}))},{default:t(()=>[d(r(e.$trans("global.assign",{attribute:e.$trans("attendance.work_shift.work_shift")})),1)]),_:1})):y("",!0),i(B,{design:"white",onClick:m[1]||(m[1]=a=>l(v).push({name:"AttendanceWorkShift"}))},{default:t(()=>[d(r(e.$trans("global.list",{attribute:e.$trans("attendance.work_shift.work_shift")})),1)]),_:1})]),_:1})]),_:1},8,["title","navs"]),i(C,{appear:"",visibility:!0},{default:t(()=>[i(z,{onAfterFilter:k,"init-url":b})]),_:1}),l(o).query.startDate&&l(o).query.endDate?(n(),f(N,{key:0,"no-padding":"","no-content-padding":"","is-loading":_.value},{title:t(()=>[d(r(e.$trans("attendance.work_shift.work_shift")),1)]),default:t(()=>[h("div",L,[c.employees.length==0?(n(),f(V,{key:0,size:"xs",design:"error"},{default:t(()=>[d(r(e.$trans("general.errors.record_not_found")),1)]),_:1})):y("",!0)]),h("div",j,[(n(!0),u(g,null,$(c.employees,(a,I)=>(n(),u("div",{class:"grid grid-cols-3 gap-6 px-4 py-2",key:a.uuid},[h("div",M,[i(w,{label:a.name+" ("+a.codeNumber+")",revert:""},{default:t(()=>[d(r(a.designation)+" "+r(a.branch),1)]),_:2},1032,["label"])]),h("div",O,[a.workShifts.length?(n(!0),u(g,{key:0},$(a.workShifts,p=>(n(),f(w,{label:p.name+"("+p.code+")",revert:""},{default:t(()=>[d(r(p.startDateDisplay)+" - "+r(p.endDateDisplay),1)]),_:2},1032,["label"]))),256)):(n(),u(g,{key:1},[d(" - ")],64))])]))),128))]),i(q,{meta:c.meta,onRefresh:k},null,8,["meta"])]),_:1},8,["is-loading"])):y("",!0)],64)}}});export{Q as default};
