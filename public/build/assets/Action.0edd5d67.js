import{u as v,s as $,q as k,r as c,o as g,k as V,l as _,e as p,f as l,b as o,n as F,v as C,x as T,d as U,I as j,a as q,F as A}from"./app.537b83f5.js";import{d as h}from"./vuedraggable.umd.78a055bc.js";const E={class:"grid grid-cols-2 gap-6"},N={class:"col-span-2 sm:col-span-1"},O={class:"col-span-2 sm:col-span-1"},R={class:"col-span-2 sm:col-span-1"},I={class:"grid grid-cols-4 gap-3 mt-4"},L={class:"col-span-4 sm:col-span-1 flex items-end"},w=p("i",{class:"fas fa-arrows cursor-pointer mr-2"},null,-1),D={class:"col-span-4 sm:col-span-1"},z={class:"col-span-4 sm:col-span-1"},G={name:"PayrollSalaryTemplateForm"},J=Object.assign(G,{setup(P){v();const m={name:"",alias:"",records:[],description:""},d="payroll/salaryTemplate/",u=$({attendanceTypes:[],payHeadCategories:[],payHeads:[]}),t=k(d),r=$({...m}),b=i=>{Object.assign(u,i),u.payHeads.forEach((a,y)=>{m.records.push({uuid:a.uuid,payHead:a,attendanceType:"",category:"",position:y,computation:""})}),Object.assign(r,j(m))};return(i,a)=>{const y=c("BaseInput"),B=c("BaseTextarea"),H=c("BaseLabel"),f=c("BaseSelect"),S=c("FormAction");return g(),V(S,{"pre-requisites":!0,onSetPreRequisites:b,"init-url":d,"init-form":m,form:r,redirect:"PayrollSalaryTemplate"},{default:_(()=>[p("div",E,[p("div",N,[l(y,{type:"text",modelValue:r.name,"onUpdate:modelValue":a[0]||(a[0]=e=>r.name=e),name:"name",label:i.$trans("payroll.salary_template.props.name"),error:o(t).name,"onUpdate:error":a[1]||(a[1]=e=>o(t).name=e),autofocus:""},null,8,["modelValue","label","error"])]),p("div",O,[l(y,{type:"text",modelValue:r.alias,"onUpdate:modelValue":a[2]||(a[2]=e=>r.alias=e),name:"alias",label:i.$trans("payroll.salary_template.props.alias"),error:o(t).alias,"onUpdate:error":a[3]||(a[3]=e=>o(t).alias=e),autofocus:""},null,8,["modelValue","label","error"])]),p("div",R,[l(B,{modelValue:r.description,"onUpdate:modelValue":a[4]||(a[4]=e=>r.description=e),name:"description",label:i.$trans("payroll.salary_template.props.description"),error:o(t).description,"onUpdate:error":a[5]||(a[5]=e=>o(t).description=e)},null,8,["modelValue","label","error"])])]),l(o(h),{list:r.records,"item-key":"uuid"},{item:_(({element:e,index:n})=>[p("div",I,[p("div",L,[w,l(H,{class:F({"text-success":e.payHead.type=="earning","text-danger":e.payHead.type=="deduction"})},{default:_(()=>[C(T(e.payHead.name)+" ("+T(e.payHead.code)+") ",1)]),_:2},1032,["class"])]),p("div",D,[l(f,{modelValue:e.category,"onUpdate:modelValue":s=>e.category=s,name:`records.${n}.category`,label:i.$trans("payroll.salary_template.props.category"),options:u.payHeadCategories,error:o(t)[`records.${n}.category`],"onUpdate:error":s=>o(t)[`records.${n}.category`]=s},null,8,["modelValue","onUpdate:modelValue","name","label","options","error","onUpdate:error"])]),p("div",z,[e.category=="computation"?(g(),V(y,{key:0,type:"text",modelValue:e.computation,"onUpdate:modelValue":s=>e.computation=s,name:`records.${n}.computation`,label:i.$trans("payroll.salary_template.props.computation"),error:o(t)[`records.${n}.computation`],"onUpdate:error":s=>o(t)[`records.${n}.computation`]=s},null,8,["modelValue","onUpdate:modelValue","name","label","error","onUpdate:error"])):U("",!0),e.category=="production_based"?(g(),V(f,{key:1,modelValue:e.attendanceType,"onUpdate:modelValue":s=>e.attendanceType=s,name:`records.${n}.attendanceType`,label:i.$trans("attendance.type.type"),options:u.attendanceTypes,"label-prop":"name","value-prop":"uuid","object-prop":!0,error:o(t)[`records.${n}.attendanceType`],"onUpdate:error":s=>o(t)[`records.${n}.attendanceType`]=s},null,8,["modelValue","onUpdate:modelValue","name","label","options","error","onUpdate:error"])):U("",!0)])])]),_:1},8,["list"])]),_:1},8,["form"])}}}),K={name:"PayrollSalaryTemplateAction"},W=Object.assign(K,{setup(P){const m=v();return(d,u)=>{const t=c("PageHeaderAction"),r=c("PageHeader"),b=c("ParentTransition");return g(),q(A,null,[l(r,{title:d.$trans(o(m).meta.trans,{attribute:d.$trans(o(m).meta.label)}),navs:[{label:d.$trans("payroll.payroll"),path:"Payroll"},{label:d.$trans("payroll.salary_template.salary_template"),path:"PayrollSalaryTemplateList"}]},{default:_(()=>[l(t,{name:"PayrollSalaryTemplate",title:d.$trans("payroll.salary_template.salary_template"),actions:["list"]},null,8,["title"])]),_:1},8,["title","navs"]),l(b,{appear:"",visibility:!0},{default:_(()=>[l(J)]),_:1})],64)}}});export{W as default};
