import{s as E,r as n,o as b,k as $,l as e,e as k,f as t,u as U,m as j,A as L,p as V,y as M,b as s,d as h,v as u,x as i,a as B,z as S,F as I}from"./app.537b83f5.js";const O={class:"grid grid-cols-3 gap-6"},z={class:"col-span-3 sm:col-span-1"},q={class:"col-span-3 sm:col-span-1"},G={class:"col-span-3 sm:col-span-1"},J={__name:"Filter",emits:["hide"],setup(d,{emit:C}){const f={name:"",alias:"",number:""},o=E({...f});return(v,m)=>{const c=n("BaseInput"),_=n("FilterForm");return b(),$(_,{"init-form":f,form:o,onHide:m[3]||(m[3]=p=>C("hide"))},{default:e(()=>[k("div",O,[k("div",z,[t(c,{type:"text",modelValue:o.name,"onUpdate:modelValue":m[0]||(m[0]=p=>o.name=p),name:"name",label:v.$trans("finance.account.props.name")},null,8,["modelValue","label"])]),k("div",q,[t(c,{type:"text",modelValue:o.alias,"onUpdate:modelValue":m[1]||(m[1]=p=>o.alias=p),name:"alias",label:v.$trans("finance.account.props.alias")},null,8,["modelValue","label"])]),k("div",G,[t(c,{type:"text",modelValue:o.number,"onUpdate:modelValue":m[2]||(m[2]=p=>o.number=p),name:"number",label:v.$trans("finance.account.props.number")},null,8,["modelValue","label"])])])]),_:1},8,["form"])}}},K={name:"EmployeeAccountList"},W=Object.assign(K,{props:{employee:{type:Object,default(){return{}}}},setup(d){const C=U(),f=j(),o=L("emitter");let v=["filter"];V("employee:edit")&&v.unshift("create");const m="employee/account/",c=M(!1),_=E({}),p=l=>{Object.assign(_,l)};return(l,r)=>{const w=n("PageHeaderAction"),D=n("PageHeader"),A=n("ParentTransition"),y=n("DataCell"),g=n("FloatingMenuItem"),N=n("FloatingMenu"),H=n("DataRow"),P=n("BaseButton"),R=n("DataTable"),T=n("ListItem");return b(),$(T,{"init-url":m,uuid:s(C).params.uuid,onSetItems:p},{header:e(()=>[d.employee.uuid?(b(),$(D,{key:0,title:l.$trans("finance.account.account"),navs:[{label:l.$trans("employee.employee"),path:"Employee"},{label:d.employee.contact.name,path:{name:"EmployeeShow",params:{uuid:d.employee.uuid}}}]},{default:e(()=>[t(w,{url:`employees/${d.employee.uuid}/accounts/`,name:"EmployeeAccount",title:l.$trans("finance.account.account"),actions:s(v),"dropdown-actions":["print","pdf","excel"],onToggleFilter:r[0]||(r[0]=a=>c.value=!c.value)},null,8,["url","title","actions"])]),_:1},8,["title","navs"])):h("",!0)]),filter:e(()=>[t(A,{appear:"",visibility:c.value},{default:e(()=>[t(J,{onRefresh:r[1]||(r[1]=a=>s(o).emit("listItems")),onHide:r[2]||(r[2]=a=>c.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[t(A,{appear:"",visibility:!0},{default:e(()=>[t(R,{header:_.headers,meta:_.meta,module:"employee.account",onRefresh:r[4]||(r[4]=a=>s(o).emit("listItems"))},{actionButton:e(()=>[s(V)("employee:edit")?(b(),$(P,{key:0,onClick:r[3]||(r[3]=a=>s(f).push({name:"EmployeeAccountCreate"}))},{default:e(()=>[u(i(l.$trans("global.add",{attribute:l.$trans("finance.account.account")})),1)]),_:1})):h("",!0)]),default:e(()=>[(b(!0),B(I,null,S(_.data,a=>(b(),$(H,{key:a.uuid},{default:e(()=>[t(y,{name:"name"},{default:e(()=>[u(i(a.name),1)]),_:2},1024),t(y,{name:"alias"},{default:e(()=>[u(i(a.alias),1)]),_:2},1024),t(y,{name:"number"},{default:e(()=>[u(i(a.number),1)]),_:2},1024),t(y,{name:"bankName"},{default:e(()=>[u(i(a.bankName),1)]),_:2},1024),t(y,{name:"branchName"},{default:e(()=>[u(i(a.branchName),1)]),_:2},1024),t(y,{name:"createdAt"},{default:e(()=>[u(i(a.createdAt),1)]),_:2},1024),t(y,{name:"action"},{default:e(()=>[t(N,null,{default:e(()=>[t(g,{icon:"fas fa-arrow-circle-right",onClick:F=>s(f).push({name:"EmployeeAccountShow",params:{uuid:d.employee.uuid,muuid:a.uuid}})},{default:e(()=>[u(i(l.$trans("general.show")),1)]),_:2},1032,["onClick"]),s(V)("employee:edit")?(b(),B(I,{key:0},[t(g,{icon:"fas fa-edit",onClick:F=>s(f).push({name:"EmployeeAccountEdit",params:{uuid:d.employee.uuid,muuid:a.uuid}})},{default:e(()=>[u(i(l.$trans("general.edit")),1)]),_:2},1032,["onClick"]),t(g,{icon:"fas fa-copy",onClick:F=>s(f).push({name:"EmployeeAccountDuplicate",params:{uuid:d.employee.uuid,muuid:a.uuid}})},{default:e(()=>[u(i(l.$trans("general.duplicate")),1)]),_:2},1032,["onClick"]),t(g,{icon:"fas fa-trash",onClick:F=>s(o).emit("deleteItem",{uuid:d.employee.uuid,moduleUuid:a.uuid})},{default:e(()=>[u(i(l.$trans("general.delete")),1)]),_:2},1032,["onClick"])],64)):h("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1},8,["uuid"])}}});export{W as default};
